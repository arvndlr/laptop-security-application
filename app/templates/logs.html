{% extends "base.html" %} {% block content %}
<style>
  body {
    background-color: #121212;
    color: #e0e0e0;
  }

  .lead {
    color: #bdbdbd;
  }

  /* Dark theme for tables */
  .table {
    color: #e0e0e0;
  }

  .table-striped > tbody > tr:nth-of-type(odd) {
    background-color: #1e1e1e;
  }

  .table-hover > tbody > tr:hover {
    background-color: #2c2c2c;
  }

  /* Sticky table header */
  .table-container {
    max-height: 500px;
    overflow-y: auto;
  }

  .table thead th {
    position: sticky;
    top: 0;
    background-color: #1e1e1e;
    color: #e0e0e0;
    border-bottom: 2px solid #555;
    z-index: 10; /* Ensure the header is above the scrolling content */
  }

  /* Badges for status */
  .badge.bg-danger {
    background-color: #dc3545 !important;
    color: #fff;
  }

  .badge.bg-success {
    background-color: #198754 !important;
    color: #fff;
  }
</style>

<div class="row">
  <div class="col-12">
    <h1 class="mt-5">Event Logs</h1>
    <p class="lead">A history of laptop status changes.</p>

    <div class="table-container">
      <table class="table table-striped table-hover mt-4">
        <thead>
          <tr>
            <th scope="col">Timestamp</th>
            <th scope="col">Laptop Name</th>
            <th scope="col">Serial Number</th>
            <th scope="col">Event Type</th>
          </tr>
        </thead>
        <tbody>
          {% for log, laptop_name in logs %}
          <tr>
            <td>{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
            <td>{{ laptop_name }}</td>
            <td>{{ log.serial_number }}</td>
            <td>
              {% if log.event_type == 'stolen' %}
              <span class="badge bg-danger">Stolen</span>
              {% else %}
              <span class="badge bg-success">Returned</span>
              {% endif %}
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>
{% endblock %}
